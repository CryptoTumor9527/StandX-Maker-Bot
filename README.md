# StandX 做市机器人 (终端版)

> **Author**: 币圈毒瘤@CryptoTumor9527  
> **Version**: 11.10

## 简介

StandX 做市机器人是一款运行在本地终端的高频自动交易程序。它通过直连 StandX Perps API，实现毫秒级的挂单做市。
相比浏览器脚本，终端版具有更快的响应速度（0.5s 极速轮询）、更精准的时间同步（Geo API 毫秒级对时）以及更稳定的长时间运行能力。

## 主要特性

- **🚀 极速响应**: 采用 0.5秒 (500ms) 高频轮询，秒级感知挂单状态。
- **⏱️ 精准对时**: 内置 Geo API 毫秒级时间同步，彻底解决 `Invalid Timestamp` 问题。
- **🛡️ 智能防呆**: 自动识别手动撤单，5秒内无响应自动补单，防止死锁。
- **👁️ 实时监控**: 控制台底部实时显示当前价格、偏离度及订单状态。
- **🔒 安全可靠**: 私钥仅在本地内存处理，不通过网络传输（除签名外）。

## 安装说明

1. **环境要求**
   - Node.js (建议 v16 或更高)
   - npm (Node 包管理器)

2. **安装依赖**
   在项目目录下执行：
   ```bash
   npm install
   ```
   (主要依赖: `@noble/curves`, `uuid`, `bs58`, `node-fetch`)

## 使用指南

1. **启动机器人**
   
   ```bash
   npm start
   ```

2. **配置参数**
   启动后，按照中文提示输入以下参数 (括号内为默认值)：

   - **Token**: 您的 API JWT Token (从浏览器 F12 网络请求头获取)。
   - **私钥**: 您的 Ed25519 私钥 (支持 Base58 或 Base64 格式)。
   - **杠杆倍数 (10)**: 建议 5-20倍，根据风险偏好设置。
   - **单笔价值 (2000)**: 每次挂单的名义价值 (USD)。
   - **做单方向 (long)**: `long` (做多), `short` (做空), `both` (双向).
   - **价格偏移 (0.002)**: 挂单价格相对于市价的偏移比例 (0.002 = 0.2%).
   - **检查间隔 (500)**: 循环检测的间隔毫秒数，越小反应越快。

## 常见问题

- **API Token 如何获取?**
  登录 standx.com，打开 F12 -> Network，刷新页面，找任意 `/api` 请求，复制 Request Header 中的 `Authorization` 字段 (去掉 `Bearer ` 前缀)。
  
- **私钥安全吗?**
  代码完全开源，私钥仅用于本地生成签名 (`ed25519.sign`)，绝不会发送给任何第三方服务器。

- **为什么有时候会提示 "API 返回 0 订单"?**
  这是正常的。当你手动撤单或者订单被吃掉后，机器人会探测到无挂单状态，然后根据策略自动补单。

## 免责声明

本程序仅供学习交流使用。数字货币交易风险极高，使用本程序造成的任何资金损失，作者概不负责。
请务必先小额测试，确认逻辑符合预期后再加大资金。

---
© 2026 币圈毒瘤@CryptoTumor9527. All Rights Reserved.
